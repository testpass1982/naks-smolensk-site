{% extends 'mainapp/base.html'%}


{% block content %}
  <div class="content-container">
            <div class="d-flex align-items-center">
                <a class="go-to-the-main-page--button" href="{% url 'main' %}"><i class="fas fa-arrow-left"></i> На главную</a>
                <a href="{% url 'create' 'post' %}" class="btn btn-link">Создать новость</a>
                <a href="{% url 'create' 'article' %}"" class="btn btn-link">Создать статью</a>
                <a href="{% url 'create' 'document' %}" class="btn btn-link">Загрузить документ</a>
            </div>

            <div class="container-fluid">
                <div class="row">
                    <div class="col-xs-12 col-lg-8">
                        <div class="heading">Новости</div>

                    {% for element in news %}
                        <div class="news__tags--container">
                            <div class="news__date">{{ element.post.published_date|date:"d-m-Y" }}</div>
                            <div class="news__tag">
                            {% for tag in element.post.tags.all %}
                            <i class="fas fa-hashtag"></i>
                            {{ tag.name }} 
                            {% endfor %}</div>
                        </div>
                        <div class="news__news-record-with-picture">
                            <img src="
                            {% if element.picture != None %}
                            {{ element.picture.image.url }}
                            {% else %}
                            /static/img/news_pict1.png
                            {% endif %}
                            " alt="bla" class="news__picture">
                            <div class="news__news-record-with-picture--heading">{{ element.post.title }}</div>
                            <a href="{% url 'post_details' pk=element.post.pk %}" class="news__news-record-with-picture--button">Подробнее <i class="fas fa-arrow-right"></i></a>
                        </div>

                    {% endfor %}

                    </div>
                    <div class="col-xs-12 col-lg-4">
                        <div class="heading">Документы</div>

                        {% for document in documents %}

                        <div class="news__tags--container">
                            <div class="news__date">{{ document.created_date|date:"d-m-Y" }}</div>
                            {% for tag in document.tags.all %} 
                                <div class="news__tag">
                                    <i class="fas fa-hashtag"></i> {{ tag.name }}
                                    </div>
                                {% endfor %}    
                        </div>
                        <div class="news__news-heading">
                            <div class="news__line-rect"></div>
                            <div class>
                                <div class="news__news-heading--text">{{document.title}}
                                </div>
                                <a class="news__button--read-more" href="{{ document.document.url }}" target="blank">Открыть <i class="fas fa-arrow-right"></i></a>
                            </div>
                        </div>
                    
                        {% endfor %}
                <!--end-row-->
            </div>

            <!-- pagination -->

            <div class="container-fluid mt-4">
                <nav>
                    <ul class="pagination">

                    {% if news.has_previous %}
                      <li class="page-item"><a class="page-link" href="?page=1">&laquo; Первая</a></li>
                      <li class="page-item"><a class="page-link" href="?page={{ news.previous_page_number }}">Предыдущая</a></li>
                    {% endif %}

                      <li class="page-item active"><a class="page-link" href="?page={{ news.number }}">Страница {{ news.number }} из {{ news.paginator.num_pages }}</a></li>
                    
                    {% if news.has_next %}
                      <li class="page-item"><a class="page-link" href="?page={{ news.next_page_number }}">Следующая</a></li>
                      <li class="page-item"><a class="page-link" href="?page={{ news.paginator.num_pages }}">Последняя &raquo;</a></li>
                    {% endif %}

                    </ul>
                  </nav>
            </div>

            <!-- pagination -->


            <a class="go-to-the-main-page--button" href="{% url 'main' %}"><i class="fas fa-arrow-left"></i> На главную</a>

        <div class="container-fluid">
                <div class="row">
                        <div class="col-xs12 col-lg-4 no-gutters">
                            <div class="news__article-record-container">
                                <div class="news__tags--container">
                                    <div class="news__date">09 Июля 2018</div>
                                    <div class="news__tag"><i class="fas fa-hashtag"></i> Статья о неразрушающем контроле</div>
                                </div>
                                <div class="news__article-record-heading">Особенности неразрушающего контроля</div>
                                <div class="news__article-record-sub-heading--container">
                                    <div class="news__article-record-sub-heading">В соответствии с требованиями действующей
                                        нормативной документации</div>
                                    <div class="news__article-record__read-more-button">Читать <i class="fas fa-arrow-right"></i></div>
                                </div>
        
                            </div>
                        </div>
                        <div class="col-xs12 col-lg-4 no-gutters">
                            <div class="news__article-record-container">
                                <div class="news__tags--container">
                                    <div class="news__date">09 Июля 2018</div>
                                    <div class="news__tag"><i class="fas fa-hashtag"></i>Статья о сварке</div>
                                </div>
                                <div class="news__article-record-heading">Применение СМТ технологий в сварке</div>
                                <div class="news__article-record-sub-heading--container">
                                    <div class="news__article-record-sub-heading">Во всем мире существует необходимость
                                        хранения нефти и продуктов</div>
                                    <div class="news__article-record__read-more-button">Читать <i class="fas fa-arrow-right"></i></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs12 col-lg-4">
                            <div class="news__article-record-container">
                                <div class="news__tags--container">
                                    <div class="news__date">09 Июля 2018</div>
                                    <div class="news__tag"><i class="fas fa-hashtag"></i> Статья о оценке квалификации</div>
                                </div>
                                <div class="news__article-record-heading">Соединение разнородных металлов</div>
                                <div class="news__article-record-sub-heading--container">
                                    <div class="news__article-record-sub-heading">Развитие и совершенствование современного
                                        приборостроения</div>
                                    <div class="news__article-record__read-more-button">Читать <i class="fas fa-arrow-right"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
        </div>

        </div>

{% endblock %}